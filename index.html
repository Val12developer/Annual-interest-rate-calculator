<!DOCTYPE html>>
<html lang="en">
<head> 
 <meta charset="UTF-8">
 <meta http-equiv="X-UA-Compatible" content="IE=edge">
 <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
 <title> Interest Calculator</title>
 
 <!--E-->
<link rel="stylesheet" href="./styles.css"/>
</head>
<body>
 <div class="container">
    <div class="menu">
   <div class="menu-item si active">Simple Interest</div>
 <div class="menu-item ci">Compound Interest </div>
 </div>
< <div class="form">
    <div class="input-grp">
    <label>Principal Amount<span class="required">
        <input type="text"id="pa" placeholder="ex: 1000" autocomplete="off">
           </div>
             <div class="input-grp">
                <label>Interest Rate(in %)<span class="required"></span>
                    <input type="text" id="pa" placeholder="ex: 10" autocomplete="off">
                    </div>
                    <div class="input-grp">
                        <label> Duration in year<span class="required"></span>
                        <input type ="text" id="dy" placeholder="ex: 1" autocomplete="off">
                    </div>
                    <div class="input-grp ci-freq">
                        <label>Compounding frequency (in year)<span class="required">
                            <input type= "text" id="fy" placeholder="ex: 3" autocomplete ="off">
                        </div>
             </div>
 <div class="btn-wrapped">
             <button class="btn">Calculate</button>
</div>
<div class="result"></div>
<strong>Total Amount:</strong>
<span class="total-amount">1000</span>
</div>
</div>


<script>
    // we will use o for S.I. and I for C.I.
    const interestType = {
    si:0,
    ci: 1
    }

//Default will be S.I.
let selectedInterest = interestType.si;
  
const SIButton = document.getElementsByClassName("si") [0];
const CIButton = document.getElementsByClassName("ci") [0];
const CIFrequency = document.getElementsByClassName("ci-freq") [0];
const resultWrapper = document.getElementsByClassName("results") [0];
const Calculate= document.getElementsByClassName("btn") [0];

//Initially hidden
  CIFrequency.Style.display = 'none';
  result.style.display='none';


//set interest type
const selectedInterestType= (type) =>{
//reset when menu changes
  selectedInterest = type;
    updateInterestFeature();
}

//reset inputs and result

const reset = () => {
 const PA = document.getElementsById("pa").Value ='';
 const IR = document.getElementById("ir").Value = ''; 
 const DY = document.getElementById("dy").Value = '';

 if(selectedInterest === interestType.ci); {
 
 resultWrapper.style.display ='none';
 
}

//update UI 
const updateInterestFeature = () => {
    if (selectedInterest === interestType.si) {
        CIButton.classList.remove('active');
        SIButton.classList.add('active'); 
         CIFrequency.Style.display = 'none';
          } else {
        SIButton.classList.remove ('active');
        CIButton.classList.add ('active');
          CIFrequency.Style.display = 'block';
    }
    }


    // calculate, final amount 
    const calculateAmount = () => {
 const PA = document.getElementsById("pa").Value ='';
 const IR = document.getElementById("ir").Value = ''; 
 const DY = document.getElementById("dy").Value = '';


//Validation
if(!PA] [!IR)] [ !DY) {
  alert("All fields are required.");
  location.reload();
  return;
}

if (isNaN(PA))] [isNaN(IR)] [isNaN(DY))) {
alert("All values must be numeric only.");
 location.reload();
return;
}

 const finalAmount =  document.getElementsById("total.amount").value;

 let result = 0;

 if(selectedInterest === interestType.si) {
  result = PA *{1 + (IR * DY ));
   }

if(selectedInterest === interestType.ci)
const DY = document.getElementById("fy").value;
result = PA*Math.pow((1 +(IR + DY/ FY))), FY*DY);
}

//show result
resultWrapper.style.display = 'block';
finalAmount.innerHTML = result;
//Set events
   SIButton.addEventListener('click', () => {
     SelectInterestType(interestType.si)
     })
    
    CIButton.addEventListener('click', () => {
    selectInterestType(interestType.ci);
     })
     Calculate.addEventListener('click', calculateAmount);
</script>
 </body>
 </html>